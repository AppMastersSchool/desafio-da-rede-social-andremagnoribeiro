{"ast":null,"code":"import _defineProperty from \"/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/src/components/postCreator.js\";\nimport React, { Component } from \"react\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport TextField from \"@material-ui/core/TextField\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Button from \"@material-ui/core/Button\";\nimport Icon from \"@material-ui/core/Icon\";\nimport Select from \"react-select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport ReactDOM from \"react-dom\";\nimport NativeSelect from \"@material-ui/core/NativeSelect\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nvar PostCreator =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PostCreator, _Component);\n\n  function PostCreator() {\n    var _this;\n\n    _classCallCheck(this, PostCreator);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PostCreator).call(this));\n    _this.state = {\n      text: \"\",\n      image: \"\",\n      users: [],\n      idUserAtual: _this.props.match.params.id,\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(PostCreator, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.readUsers();\n    }\n  }, {\n    key: \"createPost\",\n    value: function createPost() {\n      var _this2 = this;\n\n      this.setState({\n        loading: true\n      });\n      axios.get(\"http://localhost:3001/author/\" + this.state.idUserAtual).then(function (response) {\n        console.log(\"000000000000999\", response.data.image);\n        var newPost = {\n          content: _this2.state.text,\n          author: _this2.state.idUserAtual,\n          imageAuthor: response.data.image,\n          image: _this2.state.image,\n          data: new Date().getTime(),\n          initialLikes: 0\n        };\n\n        _this2.savePost(newPost);\n      });\n    }\n  }, {\n    key: \"savePost\",\n    value: function savePost(post) {\n      var _this3 = this;\n\n      axios.post(\"http://localhost:3001/posts\", post).then(function (response) {\n        _this3.setState({\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"readUsers\",\n    value: function readUsers() {\n      var _this4 = this;\n\n      axios.get(\"http://localhost:3001/author\").then(function (response) {\n        _this4.setState({\n          users: response.data\n        });\n      });\n    }\n  }, {\n    key: \"getUser\",\n    value: function getUser(id) {\n      var _this5 = this;\n\n      if (id != -1) {\n        var user = this.state.users.filter(function (user) {\n          return user.id == _this5.state.idUserAtual;\n        })[0];\n        return \" \" + user.image;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this,\n          _React$createElement;\n\n      console.table(this.state.users);\n      return React.createElement(\"div\", {\n        style: {\n          padding: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          padding: 15,\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: {\n          display: \"flex\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Crie seu Post Usuario:\", this.getUser(this.state.idUserAtual) ? React.createElement(Avatar, {\n        \"aria-label\": \"Recipe\",\n        src: this.getUser(this.state.idUserAtual),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }) : React.createElement(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \" Escolha usuario\"))), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Titulo do Post\"), React.createElement(TextField, {\n        defaultValue: \"Default Value\",\n        multiline: true,\n        id: \"filled-multiline-static\",\n        label: \"Titulo\",\n        rows: \"4\",\n        onChange: function onChange(event) {\n          var value = event.target.value;\n\n          _this6.setState({\n            text: value\n          });\n        },\n        value: this.state.text,\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Imagens do Post(URL)\"), React.createElement(TextField, (_React$createElement = {\n        id: \"standard-name\",\n        label: \"Imagem(URL)\",\n        value: this.state.image,\n        onChange: this.handleChange(\"name\"),\n        margin: \"normal\"\n      }, _defineProperty(_React$createElement, \"onChange\", function onChange(event) {\n        var value = event.target.value;\n\n        _this6.setState({\n          image: value\n        });\n      }), _defineProperty(_React$createElement, \"value\", this.state.image), _defineProperty(_React$createElement, \"style\", {\n        width: \"100%\"\n      }), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement)), this.state.image != \"\" ? React.createElement(CardMedia, {\n        style: {\n          height: 0,\n          paddingTop: \"56.25%\"\n        },\n        image: this.state.image,\n        title: \"Paella dish\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }) : React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Coloque uma URL\"), this.state.loading ? React.createElement(CircularProgress, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }) : React.createElement(Button, {\n        style: {\n          margin: 20\n        },\n        onClick: function onClick() {\n          return _this6.createPost();\n        },\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"save\", React.createElement(SaveIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PostCreator;\n}(Component);\n\nexport default PostCreator;","map":{"version":3,"sources":["/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/src/components/postCreator.js"],"names":["React","Component","CircularProgress","axios","TextField","SaveIcon","Button","Icon","Select","FormControl","InputLabel","ReactDOM","NativeSelect","CardMedia","Avatar","PostCreator","state","text","image","users","idUserAtual","props","match","params","id","loading","readUsers","setState","get","then","response","console","log","data","newPost","content","author","imageAuthor","Date","getTime","initialLikes","savePost","post","user","filter","table","padding","textAlign","display","getUser","event","value","target","width","handleChange","height","paddingTop","margin","createPost"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport TextField from \"@material-ui/core/TextField\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Button from \"@material-ui/core/Button\";\nimport Icon from \"@material-ui/core/Icon\";\nimport Select from \"react-select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport ReactDOM from \"react-dom\";\nimport NativeSelect from \"@material-ui/core/NativeSelect\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nclass PostCreator extends Component {\n  constructor() {\n    super();\n    this.state = {\n      text: \"\",\n      image: \"\",\n      users: [],\n      idUserAtual: this.props.match.params.id,\n      loading: false\n    };\n  }\n  componentDidMount() {\n    this.readUsers();\n  }\n  createPost() {\n    this.setState({ loading: true });\n    axios\n      .get(\"http://localhost:3001/author/\" + this.state.idUserAtual)\n      .then(response => {\n        console.log(\"000000000000999\", response.data.image);\n        const newPost = {\n          content: this.state.text,\n          author: this.state.idUserAtual,\n          imageAuthor: response.data.image,\n          image: this.state.image,\n          data: new Date().getTime(),\n          initialLikes: 0\n        };\n        this.savePost(newPost);\n      });\n  }\n  savePost(post) {\n    axios.post(\"http://localhost:3001/posts\", post).then(response => {\n      this.setState({ loading: false });\n    });\n  }\n\n  readUsers() {\n    axios.get(\"http://localhost:3001/author\").then(response => {\n      this.setState({ users: response.data });\n    });\n  }\n\n  getUser(id) {\n    if (id != -1) {\n      const user = this.state.users.filter(user => {\n        return user.id == this.state.idUserAtual;\n      })[0];\n      return \" \" + user.image;\n    } else {\n      return false;\n    }\n  }\n  render() {\n    console.table(this.state.users);\n    return (\n      <div style={{ padding: 15 }}>\n        <div style={{ padding: 15, textAlign: \"center\" }}>\n          <h1 style={{ display: \"flex\" }}>\n            Crie seu Post Usuario:\n            {this.getUser(this.state.idUserAtual) ? (\n              <Avatar\n                aria-label=\"Recipe\"\n                src={this.getUser(this.state.idUserAtual)}\n              />\n            ) : (\n              <a> Escolha usuario</a>\n            )}\n          </h1>\n        </div>\n\n        <h3>Titulo do Post</h3>\n        <TextField\n          defaultValue=\"Default Value\"\n          multiline\n          id=\"filled-multiline-static\"\n          label=\"Titulo\"\n          rows=\"4\"\n          onChange={event => {\n            const value = event.target.value;\n            this.setState({ text: value });\n          }}\n          value={this.state.text}\n          style={{ width: \"100%\" }}\n        />\n        <h3>Imagens do Post(URL)</h3>\n        <TextField\n          id=\"standard-name\"\n          label=\"Imagem(URL)\"\n          value={this.state.image}\n          onChange={this.handleChange(\"name\")}\n          margin=\"normal\"\n          onChange={event => {\n            const value = event.target.value;\n            this.setState({ image: value });\n          }}\n          value={this.state.image}\n          style={{ width: \"100%\" }}\n        />\n        {this.state.image != \"\" ? (\n          <CardMedia\n            style={{ height: 0, paddingTop: \"56.25%\" }}\n            image={this.state.image}\n            title=\"Paella dish\"\n          />\n        ) : (\n          <h3>Coloque uma URL</h3>\n        )}\n\n        {this.state.loading ? (\n          <CircularProgress />\n        ) : (\n          <Button\n            style={{ margin: 20 }}\n            onClick={() => this.createPost()}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            save\n            {/* This Button uses a Font Icon, see the installation instructions in the docs. */}\n            <SaveIcon />\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default PostCreator;\n"]},"metadata":{},"sourceType":"module"}