{"ast":null,"code":"import _defineProperty from \"/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/src/components/postCreator.js\";\nimport React, { Component } from \"react\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport TextField from \"@material-ui/core/TextField\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Button from \"@material-ui/core/Button\";\nimport Icon from \"@material-ui/core/Icon\";\nimport Select from \"react-select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport ReactDOM from \"react-dom\";\nimport NativeSelect from \"@material-ui/core/NativeSelect\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nvar PostCreator =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PostCreator, _Component);\n\n  function PostCreator() {\n    var _this;\n\n    _classCallCheck(this, PostCreator);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PostCreator).call(this));\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.value));\n      };\n    };\n\n    _this.state = {\n      text: \"\",\n      image: \"\",\n      users: [],\n      idUserAtual: -1,\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(PostCreator, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.readUsers();\n      this.setState({\n        idUserAtual: 1\n      });\n    }\n  }, {\n    key: \"createPost\",\n    value: function createPost() {\n      var _this2 = this;\n\n      //idUser=this.props.match.params.idUser;\n      this.setState({\n        loading: true\n      });\n      axios.get(\"http://localhost:3001/author/\" + this.state.idUserAtual).then(function (response) {\n        console.log(\"000000000000999\", response.data.image);\n        var newPost = {\n          content: _this2.state.text,\n          author: _this2.state.idUserAtual,\n          imageAuthor: response.data.image,\n          image: _this2.state.image,\n          data: new Date().getTime(),\n          initialLikes: 0\n        };\n\n        _this2.savePost(newPost);\n      });\n    }\n  }, {\n    key: \"savePost\",\n    value: function savePost(post) {\n      var _this3 = this;\n\n      axios.post(\"http://localhost:3001/posts\", post).then(function (response) {\n        _this3.setState({\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"readUsers\",\n    value: function readUsers() {\n      var _this4 = this;\n\n      axios.get(\"http://localhost:3001/author\").then(function (response) {\n        _this4.setState({\n          users: response.data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this,\n          _React$createElement;\n\n      console.table(this.state.users);\n      return React.createElement(\"div\", {\n        style: {\n          padding: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          padding: 15,\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: {\n          display: \"flex\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Crie seu Post\")), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Titulo do Post\"), React.createElement(TextField, {\n        defaultValue: \"Default Value\",\n        multiline: true,\n        id: \"filled-multiline-static\",\n        label: \"Titulo\",\n        rows: \"2\",\n        onChange: function onChange(event) {\n          var value = event.target.value;\n\n          _this5.setState({\n            text: value\n          });\n        },\n        value: this.state.text,\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Imagens do Post(URL)\"), React.createElement(TextField, (_React$createElement = {\n        id: \"standard-name\",\n        label: \"Imagem(URL)\",\n        value: this.state.image,\n        onChange: this.handleChange(\"name\"),\n        margin: \"normal\"\n      }, _defineProperty(_React$createElement, \"onChange\", function onChange(event) {\n        var value = event.target.value;\n\n        _this5.setState({\n          image: value\n        });\n      }), _defineProperty(_React$createElement, \"value\", this.state.image), _defineProperty(_React$createElement, \"style\", {\n        width: \"100%\"\n      }), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement)), this.state.image != \"\" ? React.createElement(CardMedia, {\n        style: {\n          height: 0,\n          paddingTop: \"56.25%\"\n        },\n        image: this.state.image,\n        title: \"Paella dish\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }) : React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Coloque uma URL\"), this.state.loading ? React.createElement(CircularProgress, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }) : React.createElement(Button, {\n        style: {\n          margin: 20\n        },\n        onClick: function onClick() {\n          return _this5.createPost();\n        },\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"save\", React.createElement(SaveIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PostCreator;\n}(Component);\n\nexport default PostCreator;","map":{"version":3,"sources":["/home/andre/AAREACT/desafio-da-rede-social-andremagnoribeiro/src/components/postCreator.js"],"names":["React","Component","CircularProgress","axios","TextField","SaveIcon","Button","Icon","Select","FormControl","InputLabel","ReactDOM","NativeSelect","CardMedia","Avatar","PostCreator","handleChange","name","event","setState","target","value","state","text","image","users","idUserAtual","loading","readUsers","get","then","response","console","log","data","newPost","content","author","imageAuthor","Date","getTime","initialLikes","savePost","post","table","padding","textAlign","display","width","height","paddingTop","margin","createPost"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport TextField from \"@material-ui/core/TextField\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Button from \"@material-ui/core/Button\";\nimport Icon from \"@material-ui/core/Icon\";\nimport Select from \"react-select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport ReactDOM from \"react-dom\";\nimport NativeSelect from \"@material-ui/core/NativeSelect\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nclass PostCreator extends Component {\n  constructor() {\n    super();\n    this.state = {\n      text: \"\",\n      image: \"\",\n      users: [],\n      idUserAtual: -1,\n      loading: false\n    };\n  }\n  componentDidMount() {\n    this.readUsers();\n    this.setState({ idUserAtual: 1 });\n  }\n  createPost() {\n    //idUser=this.props.match.params.idUser;\n    this.setState({ loading: true });\n    axios\n      .get(\"http://localhost:3001/author/\" + this.state.idUserAtual)\n      .then(response => {\n        console.log(\"000000000000999\", response.data.image);\n        const newPost = {\n          content: this.state.text,\n          author: this.state.idUserAtual,\n          imageAuthor: response.data.image,\n          image: this.state.image,\n          data: new Date().getTime(),\n          initialLikes: 0\n        };\n        this.savePost(newPost);\n      });\n  }\n  savePost(post) {\n    axios.post(\"http://localhost:3001/posts\", post).then(response => {\n      this.setState({ loading: false });\n    });\n  }\n\n  readUsers() {\n    axios.get(\"http://localhost:3001/author\").then(response => {\n      this.setState({ users: response.data });\n    });\n  }\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value\n    });\n  };\n  render() {\n    console.table(this.state.users);\n    return (\n      <div style={{ padding: 15 }}>\n        <div style={{ padding: 15, textAlign: \"center\" }}>\n          <h1 style={{ display: \"flex\" }}>Crie seu Post</h1>\n        </div>\n\n        <h3>Titulo do Post</h3>\n        <TextField\n          defaultValue=\"Default Value\"\n          multiline\n          id=\"filled-multiline-static\"\n          label=\"Titulo\"\n          rows=\"2\"\n          onChange={event => {\n            const value = event.target.value;\n            this.setState({ text: value });\n          }}\n          value={this.state.text}\n          style={{ width: \"100%\" }}\n        />\n        <h3>Imagens do Post(URL)</h3>\n        <TextField\n          id=\"standard-name\"\n          label=\"Imagem(URL)\"\n          value={this.state.image}\n          onChange={this.handleChange(\"name\")}\n          margin=\"normal\"\n          onChange={event => {\n            const value = event.target.value;\n            this.setState({ image: value });\n          }}\n          value={this.state.image}\n          style={{ width: \"100%\" }}\n        />\n        {this.state.image != \"\" ? (\n          <CardMedia\n            style={{ height: 0, paddingTop: \"56.25%\" }}\n            image={this.state.image}\n            title=\"Paella dish\"\n          />\n        ) : (\n          <h3>Coloque uma URL</h3>\n        )}\n\n        {this.state.loading ? (\n          <CircularProgress />\n        ) : (\n          <Button\n            style={{ margin: 20 }}\n            onClick={() => this.createPost()}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            save\n            {/* This Button uses a Font Icon, see the installation instructions in the docs. */}\n            <SaveIcon />\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default PostCreator;\n"]},"metadata":{},"sourceType":"module"}